subprojects {

    apply plugin: 'java'

    repositories {
        maven {
            url 'https://artifacts.openmicroscopy.org/artifactory/maven/'
        }
    }

    configurations.all {
        resolutionStrategy {
            // prefer modules that are part of this build (multi-project or composite build) over external modules
            preferProjectModules()

            dependencySubstitution {
                substitute module('org.openmicroscopy:omero-blitz') with project(':omero-blitz')
                substitute module('org.openmicroscopy:omero-server') with project(':omero-server')
                substitute module('org.openmicroscopy:omero-renderer') with project(':omero-renderer')
                substitute module('org.openmicroscopy:omero-romio') with project(':omero-romio')
                substitute module('org.openmicroscopy:omero-common') with project(':omero-common')
                substitute module('org.openmicroscopy:omero-model') with project(':omero-model')
            }
        }
    }
}
